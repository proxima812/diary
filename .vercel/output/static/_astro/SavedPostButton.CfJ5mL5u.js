import{d as m,c as f,a as b,o as g,g as E,i as x,b as S,r as w,e as y,t as A,s as i}from"./web.TS8hr57-.js";import{l as v,s as L,b as P,S as c}from"./bookmarks.8l6iyn56.js";var D=A('<button type=button class="rounded-xl border px-3 py-2 text-sm transition-colors border-[var(--border-soft)] bg-[var(--bg-elevated)] text-[var(--text-main)] hover:bg-[var(--bg-soft)] data-[saved=true]:bg-[var(--text-main)] data-[saved=true]:text-[var(--bg-page)]">');function N(a){const[d,n]=f(!1),l=b(()=>({id:a.id,href:P(a.id),title:a.title,desc:a.desc,savedAt:Date.now()})),r=()=>{const e=v().some(t=>t?.id===a.id);n(e)};g(()=>{r(),window.addEventListener("storage",r),document.addEventListener(c,r)}),y(()=>{typeof window>"u"||(window.removeEventListener("storage",r),document.removeEventListener(c,r))});const u=()=>{const e=v(),t=d()?e.filter(s=>s?.id!==a.id):[l(),...e.filter(s=>s?.id!==a.id)];L(t),n(!d())};return(()=>{var e=E(D);return e.$$click=u,x(e,()=>d()?"В закладках":"В закладки"),S(t=>{var s=d(),o=d();return s!==t.e&&i(e,"data-saved",t.e=s),o!==t.t&&i(e,"aria-pressed",t.t=o),t},{e:void 0,t:void 0}),w(),e})()}m(["click"]);export{N as default};
