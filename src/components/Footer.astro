---
import { config } from "@/config"
import { navigation_footer } from "@/data/data"
import { cn } from "@/utils/cn"
import { Icon } from "astro-icon/components"
import Container from "./Container.astro"
---

<footer class="mt-8 border-t border-[var(--border-soft)] bg-[var(--bg-surface)] py-10">
	<Container>
		<div class="mb-10 grid grid-cols-1 gap-10 md:grid-cols-2 md:gap-6 lg:grid-cols-4">
			{
				navigation_footer.map(item => {
					const columnKey = Object.keys(item).find(key => key.startsWith("colunm"))
					const links = item[columnKey] || []

					return (
						<div class="flex flex-col items-center md:items-start">
							<span class="mb-4 block text-sm font-semibold uppercase tracking-wide text-[var(--text-main)]">
								{item.category}
							</span>
							<nav class="flex flex-col gap-3">
								{links.map(link => (
									<a
										class={cn(
											"md:self-start self-center flex items-center gap-1 text-[var(--text-muted)] transition-colors hover:text-[var(--text-main)]",
										)}
										href={link.href}
										target={link.target}
									>
										{link.icon && <Icon name={link.icon} />}
										<span>{link.label}</span>
									</a>
								))}
							</nav>
						</div>
					)
				})
			}
		</div>
		<div class="flex flex-wrap items-center justify-center gap-3 border-t border-[var(--border-soft)] pt-5 md:justify-between">
			<span class="text-sm text-[var(--text-muted)]">
				&copy; {new Date().getFullYear()} {config.site.url.replace("https://", "")}
			</span>
			<span class="text-sm text-[var(--text-muted)]">Ежедневники анонимных сообществ</span>
		</div>
	</Container>
</footer>
